<!DOCTYPE html>
<!-- saved from url=(0045)http://www.cnblogs.com/wish123/p/4145974.html -->
<html lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="./Laravel 入门 - wish123 - 博客园_files/analytics.js"></script>
<meta charset="utf-8">
<title>Laravel 入门 - wish123 - 博客园</title>
<link type="text/css" rel="stylesheet" href="./Laravel 入门 - wish123 - 博客园_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="./Laravel 入门 - wish123 - 博客园_files/bundle-Minyx2_Lite.css">
<link type="text/css" rel="stylesheet" href="./Laravel 入门 - wish123 - 博客园_files/94317.css">
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/wish123/rss">
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/wish123/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/wish123/wlwmanifest.xml">
<script src="./Laravel 入门 - wish123 - 博客园_files/jquery.js" type="text/javascript"></script>  
<script type="text/javascript">var currentBlogApp = 'wish123', cb_enable_mathjax=false;</script>
<script src="./Laravel 入门 - wish123 - 博客园_files/blog-common.js" type="text/javascript"></script>
<script src="./Laravel 入门 - wish123 - 博客园_files/bundle-Minyx2_Lite.js" language="javascript" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>
<!--PageBeginHtml Block Begin-->
<div id="wish123_welcome">欢迎光临！请记住我的域名：http://wish123.cnblogs.com <a id="wish123_copy" href="javascript:;">复制</a><div class="zclip" id="zclip-ZeroClipboardMovie_1" style="position: absolute; left: 1104px; top: 1px; width: 25px; height: 15px; z-index: 99;"><embed id="ZeroClipboardMovie_1" src="http://www.steamdev.com/zclip/js/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="25" height="15" name="ZeroClipboardMovie_1" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=1&amp;width=25&amp;height=15" wmode="transparent"></div></div>
<!--PageBeginHtml Block End-->


<div id="container">
    <a class="minyx" href="http://www.cnblogs.com/">代码改变世界</a>
    <ul id="topMnu">
        <!-- 统计数据 -->
        <li>
            
                
Posts - 32, 
Articles - 3, 
Comments - 8
<!---->
            
        </li>
        <!-- 这边可以增加一些链接 -->
        <!-- 博客园 -->
        <li><a href="http://www.cnblogs.com/">Cnblogs</a></li>
        <!-- 管理 -->
        <li id="topMnu-dashboard">
            <a id="lnkDashboard" href="http://www.cnblogs.com/wish123/admin/EditPosts.aspx">Dashboard</a></li>
        <li>
            <a id="lnkLogin" href="http://passport.cnblogs.com/login.aspx?ReturnUrl=http://www.cnblogs.com/wish123/p/4145974.html">Login</a></li>
    </ul>

    <script type="text/javascript">
        var m = window.__blog.topMenuRendered;
        if (m) { m(__$("topMnu")); }
    </script>

    <div id="header">
        <ul id="menu">
            <!-- 首页，当前section加上current类 -->
            <li id="menu-home" class="current">
                <a id="lnkHome" href="http://www.cnblogs.com/wish123/">Home</a></li>
            <!-- 联系 -->
            <li id="menu-contact">
                <a id="lnkContact" href="http://space.cnblogs.com/msg/send/wish123">Contact</a></li>
            <!-- 相册 -->
            <li id="menu-gallary">
                <a id="lnkGallery" href="http://www.cnblogs.com/wish123/gallery.html">Gallery</a></li>
            <!-- Rss订阅 -->
            <li id="rss">
                <a id="lnkRss" href="http://www.cnblogs.com/wish123/rss">RSS</a></li>
        </ul>
        <div id="newmsg"></div>
        <h1>
            <!-- 主标题 -->
            <a id="lnkBlogTitle" href="http://www.cnblogs.com/wish123/">web开发者</a>
            <!-- 子标题 -->
            <small>
                记录和总结web开发技术的点点滴滴...</small>
        </h1>
    </div>

    <script type="text/javascript">
        var m = window.__blog.headerRendered;
        if (m) { m(__$("header")); }
    </script>

    <div id="wrapper">
        <div id="content">
            <script type="text/javascript">
                var m = window.__blog.preRenderPosts;
                if (m) { m(); }
            </script>
            
<div id="post_detail">
<div class="post" id="post">
    <a name="top"></a>
    <h2><a id="cb_post_title_url" href="./Laravel 入门 - wish123 - 博客园_files/Laravel 入门 - wish123 - 博客园.html">Laravel 入门</a></h2>
    <small>2014-12-05 09:56 by wish123, <span id="post_view_count">4033</span> 阅读, <span id="post_comment_count">3</span> 评论, <a href="http://www.cnblogs.com/wish123/p/4145974.html#" onclick="AddToWz(4145974);return false;">收藏</a>,  <a href="http://i.cnblogs.com/EditPosts.aspx?postid=4145974" rel="nofollow">编辑</a></small>
    <div class="entry">
        <div id="cnblogs_post_body"><p>本文介绍如何开始使用 Laravel。</p>
<p>读完本文，你将学到：</p>
<ul>
<li>如何安装 Laravel，新建 Laravel 程序，如何连接数据库；</li>
<li>Laravel 程序的基本文件结构；</li>
<li>MVC（模型，视图，控制器）和 REST 架构的基本原理；</li>
<li>如何快速生成 Laravel 程序骨架；</li>
</ul>
<h2 id="1">1 前提条件</h2>
<p>本文针对想从零开始开发 Laravel 程序的初学者，不需要预先具备任何的 Laravel 使用经验。不过，为了能顺利阅读，还是需要事先安装好一些软件：</p>
<ul>
<li>PHP 5.4 及以上版本</li>
<li>包管理工具 Composer 。想深入了解 Composer，请阅读 Composer 指南 。官网：<a href="https://getcomposer.org/">https://getcomposer.org/</a>&nbsp;， 中文网 ：&nbsp;<a href="http://www.phpcomposer.com/">http://www.phpcomposer.com/</a></li>
<li>SQLite3 数据库</li>
</ul>
<p>Laravel 是使用 PHP 语言开发的网页程序框架。如果之前没接触过 PHP，学习 Laravel 可要深下一番功夫。网上有很多资源可以学习 PHP：</p>
<p>PHP 语言官方网站：&nbsp;<a href="http://php.net/">http://php.net/</a></p>
<h2 id="2laravel">2 Laravel 是什么？</h2>
<p>Laravel 是使用 PHP 语言编写的网页程序开发框架，目的是为开发者提供常用组件，简化网页程序的开发。只需编写较少的代码，就能实现其他编程语言或框架难以企及的功能。经验丰富的 PHP 程序员会发现，Laravel 让程序开发变得更有乐趣。</p>
<h3 id="laravel">Laravel 哲学</h3>
<ul>
<li>
<p>Laravel 是一套富有表达性且具有简洁语法的网页应用程序框架。我们认为开发过程应该是愉悦且有创造性的体验。Laravel 努力减少开发过程中的不便，因此我们提供了验证(authentication)、路由(routing)、sessions、缓存(caching)等开发过程中经常用到的工具或功能。</p>
</li>
<li>
<p>Laravel 目标是给开发者创造一个愉快的开发过程，并且不牺牲应用程序的功能性。快乐的开发者才能创造最棒的代码。为了这个目的，我们竭取了各框架的优点集中到 Laravel 中，这些框架包括并不局限于 Ruby on Rails、ASP.NET MVC 和 Sinatra 等。</p>
</li>
<li>
<p>Laravel 是易于理解且强大的，它提供了强大的工具来开发大型、稳健的应用程序。杰出的 IoC、数据库迁移工具和紧密集成的单元测试，这些工具赋予您构建任何大小规模的应用程序的能力。</p>
</li>
</ul>
<h2 id="3laravel">3 新建 Laravel 程序</h2>
<p>阅读本文时，最好跟着一步一步操作，如果错过某段代码或某个步骤，程序就可能出错，所以请一步一步跟着做。</p>
<p>本文会新建一个名为 blog 的 Laravel 程序，这是一个非常简单的博客。</p>
<blockquote>
<p>文中的示例代码使用 $ 表示命令行提示符，你的提示符可能修改过，所以会不一样。在 Windows 中，提示符可能是 c:\source_code&gt;。</p>
</blockquote>
<h3 id="31laravel">3.1 安装 Laravel</h3>
<p>打开命令行：在 Mac OS X 中打开 Terminal.app，在 Windows 中选择“运行”，然后输入“cmd.exe”。下文中所有以 $ 开头的代码，都要在命令行中运行。先确认是否安装了 PHP 5.4 或者以上的版本：</p>
<blockquote>
<p>有很多工具可以帮助你快速在系统中安装 PHP 。Windows 用户可以使用 WAMP，Mac OS X 用户可以使用 MAMP。</p>
</blockquote>
<pre><code class=" hljs lasso">$ php <span class="hljs-attribute">-v    
PHP <span class="hljs-number">5.4<span class="hljs-number">.10 (cli) (built: Jan <span class="hljs-number">21 <span class="hljs-number">2013 <span class="hljs-number">15:<span class="hljs-number">12:<span class="hljs-number">32)  
Copyright (c) <span class="hljs-number">1997<span class="hljs-subst">-<span class="hljs-number">2012 The PHP <span class="hljs-keyword">Group  
Zend Engine v2<span class="hljs-number">.4<span class="hljs-number">.0, Copyright (c) <span class="hljs-number">1998<span class="hljs-subst">-<span class="hljs-number">2012 Zend Technologies  
     <span class="hljs-keyword">with XCache v2<span class="hljs-number">.0<span class="hljs-number">.1, Copyright (c) <span class="hljs-number">2005<span class="hljs-subst">-<span class="hljs-number">2012, <span class="hljs-keyword">by mOo  
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>如果你还没安装 PHP，请访问&nbsp;<a href="http://php.net/">http://php.net/</a>&nbsp;，找到针对所用系统的安装方法。</p>
<p>很多类 Unix 系统都自带了版本尚新的 SQLite3。Windows 等其他操作系统的用户可以在 SQLite3 的网站上找到安装说明。然后，确认是否在 PATH 中：</p>
<pre><code class=" hljs ruby"><span class="hljs-variable">$ sqlite3 --version
</span></code></pre>
<p>安装 Laravel , 通过 Laravel 安装器</p>
<p>首先, 使用 Composer 全局下载并安装 Laravel/installer:</p>
<pre><code class=" hljs ruby"><span class="hljs-variable">$ composer global <span class="hljs-keyword">require <span class="hljs-string">"laravel/installer=~1.1"
</span></span></span></code></pre>
<p>请确定把&nbsp;<code>~/.composer/vendor/bin</code>&nbsp;路径放置于您的 PATH 里, 这样laravel 可执行文件才能被命令行找到, 以后您就可以在命令行下直接使用 laravel 命令.</p>
<p>安装并且配置成功后, 可以使用命令&nbsp;<code>laravel new</code>&nbsp;在您指定的目录下创建一份全新安装的 Laravel 应用, 如这样的调用:&nbsp;<code>laravel new blog</code>&nbsp;将会在当前目录下创建一个叫 blog 的目录, 此目录里面存放着全新安装的 Laravel 应用, 此方法跟其他方法不一样的地方在于是提前安装好所有代码依赖的, 您无需再通过&nbsp;<code>composer install</code>&nbsp;安装, 速度一下子提高了很多.</p>
<p>Laravel 框架使用 composer 来执行安装及管理依赖。如果还没有安装它的话，请先从 安装 Composer 开始吧。</p>
<p>安装之后，您可以通过终端执行下列命令来安装 Laravel：</p>
<pre><code class=" hljs lasso">$ composer create<span class="hljs-attribute">-project laravel/laravel your<span class="hljs-attribute">-project<span class="hljs-attribute">-name <span class="hljs-subst">--prefer<span class="hljs-attribute">-dist
</span></span></span></span></span></code></pre>
<p>这个命令会下载并安装一份全新的 Laravel 存放在指定的 your-project-name 的目录中。</p>
<blockquote>
<p>如果您想要手动安装 Laravel 可以直接从&nbsp;<a href="https://github.com/laravel/laravel/archive/master.zip">Github 上的 Laravel Respoitory</a>下载一份代码。然后在解压后的根目录里，执行 composer install 即可，这个命令会把框架所需要的依赖下载完整。</p>
</blockquote>
<h3 id="32blog">3.2 创建 Blog 程序</h3>
<p>Artisan 是 Laravel 内建的命令行工具，它提供了一些有用的命令协助您开发，它是由强大的 Symfony Console 组件所驱动。</p>
<p>打开终端，进入有写权限的文件夹，执行以下命令生成一个新程序：</p>
<pre><code class=" hljs ruby"><span class="hljs-variable">$ laravel new blog
</span></code></pre>
<p>或者</p>
<pre><code class=" hljs lasso">$ composer create<span class="hljs-attribute">-project laravel/laravel blog <span class="hljs-subst">--prefer<span class="hljs-attribute">-dist
</span></span></span></code></pre>
<p>这个命令会在文件夹 blog 中新建一个 Laravel 程序。</p>
<blockquote>
<p>执行 laravel new -h 可以查看新程序生成器的所有命令行选项。</p>
</blockquote>
<p>生成 blog 程序后，进入该文件夹：</p>
<pre><code class=" hljs ruby"><span class="hljs-variable">$ cd blog  
</span></code></pre>
<p>blog 文件夹中有很多自动生成的文件和文件夹，组成一个 Laravel 程序。本文大部分时间都花在 app 文件夹上。下面简单介绍默认生成的文件和文件夹的作用：</p>
<table>
<thead>
<tr><th>文件/文件夹</th><th>作用</th></tr>
</thead>
<tbody>
<tr>
<td>app/</td>
<td>包含了站点的 controllers（控制器），models（模型），views（视图）和 assets（资源）。这些是网站运行的主要代码，你会将你大部分的时间花在这些上面。本文主要关注的是这个文件夹。</td>
</tr>
<tr>
<td>bootstrap</td>
<td>用来存放系统启动时需要的文件，这些文件会被如 index.php 这样的文件调用。</td>
</tr>
<tr>
<td>public</td>
<td>这个文件夹是唯一外界可以看到的，是必须指向你 web 服务器的目录。它含有 laravel 框架核心的引导文件 index.php，这个目录也可用来存放任何可以公开的静态资源，如 css，Javascript，images 等。</td>
</tr>
<tr>
<td>vendor</td>
<td>用来存放所有的第三方代码，在一个典型的 Laravel 应用程序，这包括 Laravel 源代码及其相关，并含有额外的预包装功能的插件。</td>
</tr>
<tr>
<td>app/config/</td>
<td>配置应用程序的运行时规则、 数据库、 session等等。包含大量的用来更改框架的各个方面的配置文件。大部分的配置文件中返回的选项关联PHP数组。</td>
</tr>
<tr>
<td>app/config/app.php</td>
<td>各种应用程序级设置，即时区、 区域设置（语言环境）、 调试模式和独特的加密密钥。</td>
</tr>
<tr>
<td>app/config/auth.php</td>
<td>控制在应用程序中如何进行身份验证，即身份验证驱动程序。</td>
</tr>
<tr>
<td>app/config/cache.php</td>
<td>如果应用程序利用缓存来加快响应时间，要在此配置该功能。</td>
</tr>
<tr>
<td>app/config/compile.php</td>
<td>在此处可以指定一些额外类，去包含由‘artisan optimize’命令声称的编译文件。这些应该是被包括在基本上每个请求到应用程序中的类。</td>
</tr>
<tr>
<td>app/config/database.php</td>
<td>包含数据库的相关配置信息，即默认数据库引擎和连接信息。</td>
</tr>
<tr>
<td>app/config/mail.php</td>
<td>为电子邮件发件引擎的配置文件，即 SMTP 服务器，From:标头</td>
</tr>
<tr>
<td>app/config/session.php</td>
<td>控制Laravel怎样管理用户sessions,即session driver, session lifetime。</td>
</tr>
<tr>
<td>app/config/view.php</td>
<td>模板系统的杂项配置。</td>
</tr>
<tr>
<td>app/controllers</td>
<td>包含用于提供基本的逻辑、 数据模型交互以及加载应用程序的视图文件的控制器类。</td>
</tr>
<tr>
<td>app/database/migrations/</td>
<td>包含一些 PHP 类，允许 Laravel更新当前数据库的架构并同时保持所有版本的数据库的同步。迁移文件是使用Artisan工具生成的。</td>
</tr>
<tr>
<td>app/database/seeds/</td>
<td>包含允许Artisan工具用关系数据来填充数据库表的 PHP 文件。</td>
</tr>
<tr>
<td>app/lang/</td>
<td>PHP 文件，其中包含使应用程序易于本地化的字符串的数组。默认情况下目录包含英语语言的分页和表单验证的语言行。</td>
</tr>
<tr>
<td>app/models/</td>
<td>模型是代表应用程序的信息（数据）和操作数据的规则的一些类。在大多数情况下，数据库中的每个表将对应应用中的一个模型。应用程序业务逻辑的大部分将集中在模型中。</td>
</tr>
<tr>
<td>app/start/</td>
<td>包含与Artisan工具以及全球和本地上下文相关的自定义设置。</td>
</tr>
<tr>
<td>app/storage/</td>
<td>该目录存储Laravel各种服务的临时文件，如session, cache, compiled view templates。这个目录在web服务器上必须是可以写入的。该目录由Laravel维护，我们可以不关心。</td>
</tr>
<tr>
<td>app/tests/</td>
<td>该文件夹给你提供了一个方便的位置，用来做单元测试。如果你使用PHPUnit，你可以使用Artisan工具一次执行所有的测试。</td>
</tr>
<tr>
<td>app/views/</td>
<td>该文件夹包含了控制器或者路由使用的HTML模版。请注意，这个文件夹下你只能放置模版文件。其他的静态资源文件如css, javascript和images文件应该放在/public文件夹下。</td>
</tr>
<tr>
<td>app/routes.php</td>
<td>这是您的应用程序的路由文件，其中包含路由规则，告诉 Laravel 如何将传入的请求连接到路由处理的闭包函数、 控制器和操作。该文件还包含几个事件声明，包括错误页的，可以用于定义视图的composers。</td>
</tr>
<tr>
<td>app/filters.php</td>
<td>此文件包含各种应用程序和路由筛选方法，用来改变您的应用程序的结果。Laravel 具有访问控制和 XSS 保护的一些预定义筛选器。</td>
</tr>
</tbody>
</table>
<h2 id="4hellolaravel">4 Hello, Laravel!</h2>
<p>首先，我们来添加一些文字，在页面中显示。为了能访问网页，要启动程序服务器。</p>
<pre><code class=" hljs ruby"><span class="hljs-variable">$ php artisan serve
</span></code></pre>
<p>上述命令会启动 PHP 内建的开发服务器，要查看程序，请打开一个浏览器窗口，访问<a href="http://localhost:8000/">http://localhost:8000</a>&nbsp;。应该会看到默认的 Laravel 信息页面：</p>
<p><img class="full-img" src="./Laravel 入门 - wish123 - 博客园_files/9f235db89fbd64cd5eebfc6b9b667.png" alt=""></p>
<blockquote>
<p>要想停止服务器，请在命令行中按 Ctrl+C 键。服务器成功停止后回重新看到命令行提示符。在大多数类 Unix 系统中，包括 Mac OS X，命令行提示符是 $ 符号。</p>
</blockquote>
<h3 id="42hellolaravel">4.2 显示“Hello, Laravel!”</h3>
<p>要在 Laravel 中显示“Hello, Laravel!”，需要新建一个控制器和视图。</p>
<p>控制器用来接受向程序发起的请求。路由决定哪个控制器会接受到这个请求。一般情况下，每个控制器都有多个路由，对应不同的动作。动作用来提供视图中需要的数据。</p>
<p>视图的作用是，以人类能看懂的格式显示数据。有一点要特别注意，数据是在控制器中获取的，而不是在视图中。视图只是把数据显示出来。默认情况下，视图使用 Blade 编写，经由 Laravel 解析后，再发送给用户。</p>
<p>控制器可用控制器生成器创建，你要告诉生成器，我想要个名为“welcome”的控制器，如下所示：</p>
<pre><code class=" hljs ruby"><span class="hljs-variable">$ php artisan <span class="hljs-symbol">controller:make <span class="hljs-constant">WelcomeController --only=index
</span></span></span></code></pre>
<p>运行上述命令后，Laravel 会生成 app/controllers/WelcomeController.php 文件。生成文件后修改其中的 index 方法：</p>
<pre><code class=" hljs php">    <span class="hljs-keyword">public <span class="hljs-function"><span class="hljs-keyword">function <span class="hljs-title">index<span class="hljs-params">()
    {
        <span class="hljs-keyword">return View::make(<span class="hljs-string">'welcome.index');
    }
</span></span></span></span></span></span></span></code></pre>
<p><em>*创建视图： *</em></p>
<ul>
<li>在 app/views/ 目录新建文件夹 welcome 并创建文件 index.blade.php ;</li>
<li>在 index.blade.php 文件中添加&nbsp;<code>&lt;h1&gt;Hello, Laravel!&lt;/h1&gt;</code>&nbsp;;</li>
</ul>
<h3 id="43">4.3 设置程序的首页</h3>
<p>我们已经创建了控制器和视图，现在要告诉 Laravel 在哪个地址上显示“Hello, Laravel!”。这里，我们希望访问根地址&nbsp;<a href="http://localhost:8000/">http://localhost:8000</a>&nbsp;时显示。但是现在显示的还是欢迎页面。</p>
<p>我们要告诉 Laravel 真正的首页是什么。</p>
<p>在编辑器中打开 app/routes.php 文件。</p>
<pre><code class=" hljs applescript">&lt;?php

/*
|<span class="hljs-comment">--------------------------------------------------------------------------
| Application Routes
|<span class="hljs-comment">--------------------------------------------------------------------------
|
| Here <span class="hljs-keyword">is <span class="hljs-keyword">where you can register all <span class="hljs-keyword">of <span class="hljs-keyword">the routes <span class="hljs-keyword">for an <span class="hljs-type">application.
| It's a breeze. Simply <span class="hljs-keyword">tell Laravel <span class="hljs-keyword">the URIs <span class="hljs-keyword">it should respond <span class="hljs-keyword">to
| <span class="hljs-keyword">and give <span class="hljs-keyword">it <span class="hljs-keyword">the Closure <span class="hljs-keyword">to execute when <span class="hljs-keyword">that URI <span class="hljs-keyword">is requested.
|
*/

Route::<span class="hljs-keyword">get('/', function()  
{
<span class="hljs-command">    return View::make('hello');
});
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>我们找到 ：</p>
<pre><code class=" hljs actionscript">Route::<span class="hljs-keyword">get(<span class="hljs-string">'/', <span class="hljs-function"><span class="hljs-keyword">function<span class="hljs-params">()  
{
    <span class="hljs-keyword">return View::make(<span class="hljs-string">'hello');
});
</span></span></span></span></span></span></span></code></pre>
<p>修改为：</p>
<pre><code class=" hljs scss">Route<span class="hljs-value">::get(<span class="hljs-string">'/', <span class="hljs-string">'WelcomeController@index');  
</span></span></span></code></pre>
<p>告知 Laravel，访问程序的根路径时，交给 welcome 控制器中的 index 动作处理。</p>
<h2 id="5">5 开始使用</h2>
<p>前文已经介绍如何创建控制器、动作和视图，下面我们来创建一些更实质的功能。</p>
<p>在此之前我们需要修改一些配置：</p>
<ul>
<li>app/config/app.php 文件中的 debug 选项设置为 true （注：开启开发模式，更友好的开发提示）；</li>
<li>app/config/database.php 文件中的 default 选项设置为 sqlite （注：我们之前选择 sqlite 作为默认数据库）；</li>
</ul>
<p>在博客程序中，我们要创建一个新“资源”。资源是指一系列类似的对象，比如文章，人和动物。</p>
<p>资源可以被创建、读取、更新和删除，这些操作简称 CRUD。</p>
<p>Laravel 提供了资源控制器可以简单的建立跟资源相关的 RESTful 控制器。&nbsp;<br>创建文章资源后，app/routes.php 文件的内容新增如下：</p>
<pre><code class=" hljs scss">Route<span class="hljs-value">::resource(<span class="hljs-string">'articles', <span class="hljs-string">'ArticlesController');  
</span></span></span></code></pre>
<p>执行&nbsp;<code>$ php artisan routes</code>&nbsp;任务，会看到定义了所有标准的 REST 动作。输出结果中各列的意义稍后会说明。</p>
<pre><code class=" hljs asciidoc"><span class="hljs-code">+--------+-----------------------------------<span class="hljs-code">+------------------+----------------------------<span class="hljs-code">+----------------+---------------+
<span class="hljs-header">| Domain | URI                               | Name             | Action                     | Before Filters | After Filters |
+--------+-----------------------------------+------------------+----------------------------+----------------+---------------+
|        | GET|HEAD /                        |                  | WelcomeController@index    |                |               |
|        | GET|HEAD articles                 | articles.index   | ArticlesController@index   |                |               |
|        | GET|HEAD articles/create          | articles.create  | ArticlesController@create  |                |               |
|        | POST articles                     | articles.store   | ArticlesController@store   |                |               |
|        | GET|HEAD articles/{articles}      | articles.show    | ArticlesController@show    |                |               |
|        | GET|HEAD articles/{articles}/edit | articles.edit    | ArticlesController@edit    |                |               |
|        | PUT articles/{articles}           | articles.update  | ArticlesController@update  |                |               |
|        | PATCH articles/{articles}         |                  | ArticlesController@update  |                |               |
<span class="hljs-header">|        | DELETE articles/{articles}        | articles.destroy | ArticlesController@destroy |                |               |
+--------+-----------------------------------+------------------+----------------------------+----------------+---------------+
</span></span></span></span></span></code></pre>
<p>下一节，我们会加入新建文章和查看文章的功能。这两个操作分别对应于 CRUD 的 C 和 R，即创建和读取。</p>
<h3 id="51">5.1 挖地基</h3>
<p>首先，程序中要有个页面用来新建文章。一个比较好的选择是 /articles/create。这个路由前面已经定义了，可以访问。打开&nbsp;<a href="http://localhost:8000/articles/create">http://localhost:8000/articles/create</a>&nbsp;，会看到如下的路由错误：</p>
<p><img class="full-img" src="./Laravel 入门 - wish123 - 博客园_files/fd280af49d0edad720fa0229b29a3.png" alt="" style="width: 1115px;"></p>
<p>产生这个错误的原因是，没有定义用来处理该请求的控制器。解决这个问题的方法很简单：创建名为 ArticlesController 的控制器。执行下面的命令即可：</p>
<pre><code class=" hljs ruby"><span class="hljs-variable">$ php artisan <span class="hljs-symbol">controller:make <span class="hljs-constant">ArticlesController
</span></span></span></code></pre>
<p>打开刚生成的 app/controllers/ArticlesController.php 文件，控制器就是一个类，继承自 BaseController。在这个 ArticlesController 类中定义了对应的资源动作。动作的作用是处理文章的 CRUD 操作。</p>
<p>修改 ArticlesController.php 文件中的</p>
<pre><code class=" hljs django"><span class="xml">    <span class="hljs-keyword">public <span class="hljs-function"><span class="hljs-keyword">function <span class="hljs-title">create<span class="hljs-params">()
    {
        <span class="hljs-comment">//
    }
</span></span></span></span></span></span></span></code></pre>
<p>为</p>
<pre><code class=" hljs django"><span class="xml">    <span class="hljs-keyword">public <span class="hljs-function"><span class="hljs-keyword">function <span class="hljs-title">create<span class="hljs-params">()
    {
        <span class="hljs-keyword">return View::make(<span class="hljs-string">'articles.create');
    }
</span></span></span></span></span></span></span></span></code></pre>
<blockquote>
<p>在 PHP 中，方法分为 public、private 和 protected 三种，只有 public 方法才能作为控制器的动作。</p>
</blockquote>
<p>现在刷新&nbsp;<a href="http://localhost:8000/articles/create">http://localhost:8000/articles/create</a>&nbsp;，会看到一个新错误：</p>
<p><img class="full-img" src="./Laravel 入门 - wish123 - 博客园_files/5ea311a4e7065b9669f39d252e018.png" alt="" style="width: 1115px;"></p>
<p>产生这个错误的原因是，Laravel 希望这样的常规动作有对应的视图，用来显示内容。没有视图可用，Laravel 就报错了。</p>
<p>新建文件 app/views/articles/create.blade.php，写入如下代码：</p>
<pre><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">h1&gt;New Article<span class="hljs-tag">&lt;/<span class="hljs-title">h1&gt;  
</span></span></span></span></code></pre>
<p>再次刷新&nbsp;<a href="http://localhost:8000/articles/create">http://localhost:8000/articles/create</a>&nbsp;， 可以看到页面中显示了一个标头。现在路由、控制器、动作和视图都能正常运行了。接下来要编写新建文章的表单了。</p>
<h3 id="52">5.2 首个表单</h3>
<p>要在模板中编写表单，可以使用“表单构造器”。Laravel 中常用的表单构造器是&nbsp;<code>Form</code>。在 app/views/articles/create.blade.php 文件中加入以下代码：</p>
<pre><code class=" hljs handlebars"><span class="xml"><span class="php"><span class="hljs-expression">{{ <span class="hljs-variable">Form::<span class="hljs-variable">open() }}<span class="xml">
    &lt;p&gt;
        <span class="hljs-expression">{{ <span class="hljs-variable">Form::<span class="hljs-variable">text('<span class="hljs-variable">title') }}<span class="xml">
    &lt;/p&gt;
    &lt;p&gt;
        <span class="hljs-expression">{{ <span class="hljs-variable">Form::<span class="hljs-variable">text('<span class="hljs-variable">text') }}<span class="xml">
    &lt;/p&gt;
    &lt;p&gt;
        <span class="hljs-expression">{{ <span class="hljs-variable">Form::<span class="hljs-variable">submit('<span class="hljs-variable">submit') }}<span class="xml">
    &lt;/p&gt;
<span class="hljs-expression">{{ <span class="hljs-variable">Form::<span class="hljs-variable">close() }}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>现在刷新页面，会看到上述代码生成的表单。在 Laravel 中编写表单就是这么简单！</p>
<p>在 Form 方法的块中，Form::text 创建了两个标签和两个文本字段，一个用于文章标题，一个用于文章内容。最后，Form::submit 创建一个提交按钮。</p>
<p>不过这个表单还有个问题。如果查看这个页面的源码，会发现表单 action 属性的值是 /articles/create。这就是问题所在，因为其指向的地址就是现在这个页面，而这个页面是用来显示新建文章表单的。</p>
<p>要想转到其他地址，就要使用其他的地址。这个问题可使用 Form::open 方法的 url 参数解决。在 Laravel 中，用来处理新建资源表单提交数据的动作是 store，所以表单应该转向这个动作。</p>
<p>修改 app/views/articles/create.blade.php 文件中的 Form::open，改成这样：</p>
<pre><code class=" hljs css"><span class="hljs-rules">{<span class="hljs-rule">{ <span class="hljs-attribute">Form:<span class="hljs-value">:<span class="hljs-function">open(<span class="hljs-function">array(<span class="hljs-string">'url' =&gt; <span class="hljs-string">'articles')) }}
</span></span></span></span></span></span></span></span></code></pre>
<p>这里，我们把 url 参数的值设为 articles 。对应的地址是 /articels，默认情况下，这个表单会向这个路由发起 POST 请求。这个路由对应于 ArticlesController 控制器的 store 动作。</p>
<p>表单写好了，路由也定义了，现在可以填写表单，然后点击提交按钮新建文章了。</p>
<h3 id="53">5.3 创建文章</h3>
<p>提交表单，会看到一个白屏。现在暂且不管这个错误。store 动作的作用是把新文章保存到数据库中。</p>
<p>提交表单后，其中的字段以参数的形式传递给 Laravel。这些参数可以在控制器的动作中使用，完成指定的操作。要想查看这些参数的内容，可以把 store 动作改成：</p>
<pre><code class=" hljs django"><span class="xml">    <span class="hljs-keyword">public <span class="hljs-function"><span class="hljs-keyword">function <span class="hljs-title">store<span class="hljs-params">()
    {
        dd(Input::all());
    }
</span></span></span></span></span></span></code></pre>
<p>dd 函数为 Laravel 内置的打印输出函数，Input::all() 取得所有发出请求时传入的输入数据。</p>
<p>如果现在再次提交表单，不会再看到白屏错误，而是会看到类似下面的文字：</p>
<pre><code class=" hljs livecodeserver">array (size=<span class="hljs-number">3)  
  <span class="hljs-string">'_token' =&gt; <span class="hljs-keyword">string <span class="hljs-string">'plx6TrGRWfHakBlKybUzkRTH8r712JU4rWfiPTs7' (<span class="hljs-built_in">length=<span class="hljs-number">40)
  <span class="hljs-string">'title' =&gt; <span class="hljs-keyword">string <span class="hljs-string">'First article!' (<span class="hljs-built_in">length=<span class="hljs-number">14)
  <span class="hljs-string">'text' =&gt; <span class="hljs-keyword">string <span class="hljs-string">'This is my first article.' (<span class="hljs-built_in">length=<span class="hljs-number">25)
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>store 动作把表单提交的参数显示出来了。不过这么做没什么用，看到了参数又怎样，什么都没发生。</p>
<h3 id="54article">5.4 创建 Article 模型</h3>
<p>在 Laravel 中，模型的名字使用单数，对应的数据表名使用复数。</p>
<p>创建 app/models/Article.php 并写入以下代码：</p>
<pre><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php

<span class="hljs-class"><span class="hljs-keyword">class <span class="hljs-title">Article <span class="hljs-keyword">extends <span class="hljs-title">Eloquent {

}
</span></span></span></span></span></span></span></code></pre>
<p>注意我们并没有告诉 Eloquent Article 模型会使用哪个数据库表。若没有特别指定，系统会默认自动对应名称为「类名称的小写复数形态」的数据库表。所以，在上面的例子中， Eloquent 会假设 Article 将把数据存在 articles 数据库表。</p>
<h3 id="55">5.5 运行迁移</h3>
<p>使用 Artisan CLI 的 migrate:make 命令建立迁移文件：</p>
<pre><code class=" hljs ruby"><span class="hljs-variable">$ php artisan <span class="hljs-symbol">migrate:make create_articles_table --create=articles
</span></span></code></pre>
<p>迁移文件会建立在 app/database/migrations 目录下，文件名会包含时间戳，用于在执行迁移时用来决定顺序。</p>
<p>app/database/migrations/2014<em>09</em>03<em>084339</em>create<em>articles</em>table.php （你的迁移文件名可能有点不一样）文件的内容如下所示：</p>
<pre><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php

<span class="hljs-keyword">use <span class="hljs-title">Illuminate\<span class="hljs-title">Database\<span class="hljs-title">Schema\<span class="hljs-title">Blueprint;  
<span class="hljs-keyword">use <span class="hljs-title">Illuminate\<span class="hljs-title">Database\<span class="hljs-title">Migrations\<span class="hljs-title">Migration;

<span class="hljs-class"><span class="hljs-keyword">class <span class="hljs-title">CreateArticlesTable <span class="hljs-keyword">extends <span class="hljs-title">Migration {

    <span class="hljs-comment">/**
     * Run the migrations.
     *
     *<span class="hljs-phpdoc"> @return void
     */
    <span class="hljs-keyword">public <span class="hljs-function"><span class="hljs-keyword">function <span class="hljs-title">up<span class="hljs-params">()
    {
        Schema::create(<span class="hljs-string">'articles', <span class="hljs-function"><span class="hljs-keyword">function<span class="hljs-params">(Blueprint <span class="hljs-variable">$table)
        {
            <span class="hljs-variable">$table-&gt;increments(<span class="hljs-string">'id');
            <span class="hljs-variable">$table-&gt;timestamps();
        });
    }

    <span class="hljs-comment">/**
     * Reverse the migrations.
     *
     *<span class="hljs-phpdoc"> @return void
     */
    <span class="hljs-keyword">public <span class="hljs-function"><span class="hljs-keyword">function <span class="hljs-title">down<span class="hljs-params">()
    {
        Schema::drop(<span class="hljs-string">'articles');
    }

}
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>修改其中的创建代码为：</p>
<pre><code class=" hljs django"><span class="xml">        Schema::create<span class="hljs-params">(<span class="hljs-string">'articles', function<span class="hljs-params">(Blueprint <span class="hljs-variable">$table)
        {
            <span class="hljs-variable">$table-&gt;increments<span class="hljs-params">(<span class="hljs-string">'id');
            <span class="hljs-variable">$table-&gt;string<span class="hljs-params">(<span class="hljs-string">'title');
            <span class="hljs-variable">$table-&gt;text<span class="hljs-params">(<span class="hljs-string">'text');
            <span class="hljs-variable">$table-&gt;timestamps<span class="hljs-params">();
        });
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>在这个迁移中定义了一个名为 up 的方法，在运行迁移时执行。up 方法中定义的操作都是可以通过 down 方法实现可逆的，Laravel 知道如何撤销这次迁移操作。运行迁移后，会创建 articles 表，以及一个字符串字段和文本字段。同时还会创建两个时间戳字段，用来跟踪记录的创建时间和更新时间。</p>
<p>然后，使用 Artisan 命令运行迁移：</p>
<pre><code class=" hljs ruby"><span class="hljs-variable">$ php artisan migrate
</span></code></pre>
<p>Laravel 会执行迁移操作，告诉你创建了 articles 表。</p>
<blockquote>
<p>Migration table created successfully. Migrated: 2014<em>09</em>03<em>084339</em>create<em>articles</em>table</p>
</blockquote>
<h3 id="56">5.6 在控制器中保存数据</h3>
<p>再回到 ArticlesController 控制器，我们要修改 store 动作，使用 Article 模型把数据保存到数据库中。打开 app/controllers/ArticlesController.php 文件，把 store 动作修改成这样：</p>
<pre><code class=" hljs lasso">    <span class="hljs-keyword">public function store()
    {
            <span class="hljs-variable">$article <span class="hljs-subst">= Article<span class="hljs-tag">::create(<span class="hljs-built_in">array(<span class="hljs-string">'title'<span class="hljs-subst">=&gt;Input<span class="hljs-tag">::get(<span class="hljs-string">'title'), <span class="hljs-string">'text'<span class="hljs-subst">=&gt;Input<span class="hljs-tag">::get(<span class="hljs-string">'text')));

        <span class="hljs-keyword">return Redirect<span class="hljs-tag">::route(<span class="hljs-string">'articles.show', <span class="hljs-built_in">array(<span class="hljs-variable">$article<span class="hljs-subst">-&gt;id));
    }
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>同时在 app/models/Article.php 添加 ：</p>
<pre><code class=" hljs lasso"><span class="hljs-keyword">protected <span class="hljs-variable">$fillable <span class="hljs-subst">= <span class="hljs-built_in">array(<span class="hljs-string">'title', <span class="hljs-string">'text');  
</span></span></span></span></span></span></code></pre>
<p>fillable 属性允许在动作中调用模型的 create 方法使用 title 和 text 属性。</p>
<p>再次访问&nbsp;<a href="http://localhost:8000/articles/create">http://localhost:8000/articles/create</a>&nbsp;，填写表单，还差一步就能创建文章了。</p>
<h3 id="57">5.7 显示文章</h3>
<p>和前面一样，我们要在 app/controllers/ArticlesController.php 文件中更改 show 动作，以及相应的视图文件。</p>
<pre><code class=" hljs php">    <span class="hljs-keyword">public <span class="hljs-function"><span class="hljs-keyword">function <span class="hljs-title">show<span class="hljs-params">(<span class="hljs-variable">$id)
    {
        <span class="hljs-variable">$article = Article::find(<span class="hljs-variable">$id);

        <span class="hljs-keyword">return View::make(<span class="hljs-string">'articles.show', compact(<span class="hljs-string">'article'));
    }
</span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>然后，新建 app/views/articles/show.blade.php 文件，写入下面的代码：</p>
<pre><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">p&gt;  
  <span class="hljs-tag">&lt;<span class="hljs-title">strong&gt;Title:<span class="hljs-tag">&lt;/<span class="hljs-title">strong&gt;
  {{ $article-&gt;title }}
<span class="hljs-tag">&lt;/<span class="hljs-title">p&gt;

<span class="hljs-tag">&lt;<span class="hljs-title">p&gt;  
  <span class="hljs-tag">&lt;<span class="hljs-title">strong&gt;Text:<span class="hljs-tag">&lt;/<span class="hljs-title">strong&gt;
  {{ $article-&gt;text }}
<span class="hljs-tag">&lt;/<span class="hljs-title">p&gt;  
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>做了以上修改后，就能真正的新建文章了。访问&nbsp;<a href="http://localhost:8000/articles/create">http://localhost:8000/articles/create</a>&nbsp;，自己试试。</p>
<h3 id="58">5.8 列出所有文章</h3>
<p>我们还要列出所有文章，对应的路由是：</p>
<blockquote>
<p>GET|HEAD articles | articles.index | ArticlesController@index</p>
</blockquote>
<p>在 app/controllers/ArticlesController.php 文件中，修改 ArticlesController 控制器 index 动作：</p>
<pre><code class=" hljs php">    <span class="hljs-keyword">public <span class="hljs-function"><span class="hljs-keyword">function <span class="hljs-title">index<span class="hljs-params">()
    {
        <span class="hljs-variable">$articles = Article::all();

        <span class="hljs-keyword">return View::make(<span class="hljs-string">'articles.index', compact(<span class="hljs-string">'articles'));
    }
</span></span></span></span></span></span></span></span></span></code></pre>
<p>然后编写这个动作的视图，保存为 app/views/articles/index.blade.php：</p>
<pre><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">h1&gt;Listing articles<span class="hljs-tag">&lt;/<span class="hljs-title">h1&gt;

<span class="hljs-tag">&lt;<span class="hljs-title">table&gt;  
  <span class="hljs-tag">&lt;<span class="hljs-title">tr&gt;
    <span class="hljs-tag">&lt;<span class="hljs-title">th&gt;Title<span class="hljs-tag">&lt;/<span class="hljs-title">th&gt;
    <span class="hljs-tag">&lt;<span class="hljs-title">th&gt;Text<span class="hljs-tag">&lt;/<span class="hljs-title">th&gt;
  <span class="hljs-tag">&lt;/<span class="hljs-title">tr&gt;

  @foreach ($articles as $article)
    <span class="hljs-tag">&lt;<span class="hljs-title">tr&gt;
      <span class="hljs-tag">&lt;<span class="hljs-title">td&gt;{{ $article-&gt;title }}<span class="hljs-tag">&lt;/<span class="hljs-title">td&gt;
      <span class="hljs-tag">&lt;<span class="hljs-title">td&gt;{{ $article-&gt;text }}<span class="hljs-tag">&lt;/<span class="hljs-title">td&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-title">tr&gt;
  @endforeach
<span class="hljs-tag">&lt;/<span class="hljs-title">table&gt;  
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>现在访问&nbsp;<a href="http://localhost:8000/articles">http://localhost:8000/articles</a>&nbsp;，会看到已经发布的文章列表。</p>
<h3 id="59">5.9 添加链接</h3>
<p>至此，我们可以新建、显示、列出文章了。下面我们添加一些链接，指向这些页面。</p>
<p>打开 app/views/welcome/index.blade.php 文件，添加：</p>
<pre><code class=" hljs handlebars"><span class="xml"><span class="hljs-params"><span class="hljs-expression">{{ <span class="hljs-variable">link_<span class="hljs-variable">to_<span class="hljs-variable">route('<span class="hljs-variable">articles.index', '<span class="hljs-variable">My <span class="hljs-variable">Blog') }}</span></span></span></span></span></span></span></span></span></code></pre>
<p>link<em>to</em>route 是 Laravel 内置的视图帮助方法之一，根据提供的文本和地址创建超链接。这上面这段代码中，地址是文章列表页面。</p>
<p>接下来添加到其他页面的链接。先在 app/views/articles/index.blade.php 中添加“New Article”链接，放在&nbsp;<code>&lt;table&gt;</code>&nbsp;标签之前：</p>
<pre><code class=" hljs handlebars"><span class="xml"><span class="hljs-params"><span class="hljs-expression">{{ <span class="hljs-variable">link_<span class="hljs-variable">to_<span class="hljs-variable">route('<span class="hljs-variable">articles.create', '<span class="hljs-variable">New <span class="hljs-variable">article') }}</span></span></span></span></span></span></span></span></span></code></pre>
<p>点击这个链接后，会转向新建文章的表单页面。</p>
<p>然后在 app/views/articles/create.blade.php 中添加一个链接，位于表单下面，返回到 index 动作：</p>
<pre><code class=" hljs handlebars"><span class="xml"><span class="hljs-params"><span class="hljs-expression">{{ <span class="hljs-variable">link_<span class="hljs-variable">to_<span class="hljs-variable">route('<span class="hljs-variable">articles.index', '<span class="hljs-variable">Back') }}</span></span></span></span></span></span></span></span></code></pre>
<p>最后，在 app/views/articles/show.blade.php 模板中添加一个链接，返回 index 动作，这样用户查看某篇文章后就可以返回文章列表页面了：</p>
<pre><code class=" hljs handlebars"><span class="xml"><span class="hljs-params"><span class="hljs-expression">{{ <span class="hljs-variable">link_<span class="hljs-variable">to_<span class="hljs-variable">route('<span class="hljs-variable">articles.index', '<span class="hljs-variable">Back') }}</span></span></span></span></span></span></span></span></code></pre>
<h3 id="510">5.10 添加数据验证</h3>
<p>在 app/controllers/ArticlesController.php 文件中，修改 ArticlesController 控制器 store 动作：</p>
<pre><code class=" hljs lasso">    <span class="hljs-keyword">public function store()
    {
        <span class="hljs-variable">$rules <span class="hljs-subst">= <span class="hljs-built_in">array(<span class="hljs-string">'title' <span class="hljs-subst">=&gt; <span class="hljs-string">'required|min:5');

        <span class="hljs-variable">$validator <span class="hljs-subst">= Validator<span class="hljs-tag">::make(Input<span class="hljs-tag">::all(), <span class="hljs-variable">$rules);

        <span class="hljs-keyword">if (<span class="hljs-variable">$validator<span class="hljs-subst">-&gt;fails())
        {
            <span class="hljs-keyword">return Redirect<span class="hljs-tag">::route(<span class="hljs-string">'articles.create')
                <span class="hljs-subst">-&gt;withErrors(<span class="hljs-variable">$validator)
                <span class="hljs-subst">-&gt;withInput();
        }

        <span class="hljs-variable">$article <span class="hljs-subst">= Article<span class="hljs-tag">::create(<span class="hljs-built_in">array(<span class="hljs-string">'title'<span class="hljs-subst">=&gt;Input<span class="hljs-tag">::get(<span class="hljs-string">'title'), <span class="hljs-string">'text'<span class="hljs-subst">=&gt;Input<span class="hljs-tag">::get(<span class="hljs-string">'text')));

        <span class="hljs-keyword">return Redirect<span class="hljs-tag">::route(<span class="hljs-string">'articles.show', <span class="hljs-built_in">array(<span class="hljs-variable">$article<span class="hljs-subst">-&gt;id));
    }
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>然后修改 app/views/articles/create.blade.php 添加 ：</p>
<pre><code class=" hljs handlebars"><span class="xml">@if <span class="hljs-params">(<span class="hljs-variable">$errors-&gt;any<span class="hljs-params">())
&lt;div id=<span class="hljs-string">"error_explanation"&gt;  
    &lt;h2&gt;<span class="hljs-expression">{{ <span class="hljs-variable">count($<span class="hljs-variable">errors-&gt;<span class="hljs-variable">all()) }}<span class="xml"> prohibited
      this article from being saved:&lt;/h2&gt;
    &lt;ul&gt;
    @foreach <span class="hljs-params">(<span class="hljs-variable">$errors-&gt;all<span class="hljs-params">() as <span class="hljs-variable">$message)
      &lt;li&gt;<span class="hljs-expression">{{ $<span class="hljs-variable">message }}<span class="xml">&lt;/li&gt;
    @endforeach
    &lt;/ul&gt;
  &lt;/div&gt;
@endif
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>再次访问&nbsp;<a href="http://localhost:8000/articles/create">http://localhost:8000/articles/create</a>&nbsp;，尝试发布一篇没有标题的文章，会看到一个很有用的错误提示。</p>
<h3 id="511">5.11 更新文章</h3>
<p>我们已经说明了 CRUD 中的 CR 两种操作。下面进入 U 部分，更新文章。</p>
<p>首先，要在 ArticlesController 中更改 edit 动作：</p>
<pre><code class=" hljs php">    <span class="hljs-keyword">public <span class="hljs-function"><span class="hljs-keyword">function <span class="hljs-title">edit<span class="hljs-params">(<span class="hljs-variable">$id)
    {
        <span class="hljs-variable">$article = Article::find(<span class="hljs-variable">$id);

        <span class="hljs-keyword">return View::make(<span class="hljs-string">'articles.edit', compact(<span class="hljs-string">'article'));
    }
</span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>视图中要添加一个类似新建文章的表单。新建 app/views/articles/edit.blade.php 文件，写入下面的代码：</p>
<pre><code class=" hljs handlebars"><span class="xml">&lt;h1&gt;Editing Article&lt;/h1&gt;

@if <span class="hljs-params">(<span class="hljs-variable">$errors-&gt;any<span class="hljs-params">())
&lt;div id=<span class="hljs-string">"error_explanation"&gt;  
    &lt;h2&gt;<span class="hljs-expression">{{ <span class="hljs-variable">count($<span class="hljs-variable">errors-&gt;<span class="hljs-variable">all()) }}<span class="xml"> prohibited
      this article from being saved:&lt;/h2&gt;
    &lt;ul&gt;
    @foreach <span class="hljs-params">(<span class="hljs-variable">$errors-&gt;all<span class="hljs-params">() as <span class="hljs-variable">$message)
      &lt;li&gt;<span class="hljs-expression">{{ $<span class="hljs-variable">message }}<span class="xml">&lt;/li&gt;
    @endforeach
    &lt;/ul&gt;
  &lt;/div&gt;
@endif

<span class="hljs-expression">{{ <span class="hljs-variable">Form::<span class="hljs-variable">open(<span class="hljs-variable">array('<span class="hljs-variable">route' =&gt; <span class="hljs-variable">array('<span class="hljs-variable">articles.update', $<span class="hljs-variable">article-&gt;<span class="hljs-variable">id), '<span class="hljs-variable">method' =&gt; '<span class="hljs-variable">put')) }}<span class="xml">
    &lt;p&gt;
        <span class="hljs-expression">{{ <span class="hljs-variable">Form::<span class="hljs-variable">text('<span class="hljs-variable">title', $<span class="hljs-variable">article-&gt;<span class="hljs-variable">title) }}<span class="xml">
    &lt;/p&gt;
    &lt;p&gt;
        <span class="hljs-expression">{{ <span class="hljs-variable">Form::<span class="hljs-variable">text('<span class="hljs-variable">text', $<span class="hljs-variable">article-&gt;<span class="hljs-variable">text) }}<span class="xml">
    &lt;/p&gt;
    &lt;p&gt;
        <span class="hljs-expression">{{ <span class="hljs-variable">Form::<span class="hljs-variable">submit('<span class="hljs-variable">submit') }}<span class="xml">
    &lt;/p&gt;
<span class="hljs-expression">{{ <span class="hljs-variable">Form::<span class="hljs-variable">close() }}<span class="xml">

<span class="hljs-expression">{{ <span class="hljs-variable">link_<span class="hljs-variable">to_<span class="hljs-variable">route('<span class="hljs-variable">articles.index', '<span class="hljs-variable">Back') }}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>这里的表单指向 update 动作</p>
<p>method: put ( patch ) 选项告诉 Laravel，提交这个表单时使用 PUT 方法发送请求。根据 REST 架构，更新资源时要使用 HTTP PUT 方法。</p>
<p>然后，要在 app/controllers/ArticlesController.php 中更新 update 动作：</p>
<pre><code class=" hljs lasso">    <span class="hljs-keyword">public function update(<span class="hljs-variable">$id)
    {
        <span class="hljs-variable">$rules <span class="hljs-subst">= <span class="hljs-built_in">array(<span class="hljs-string">'title' <span class="hljs-subst">=&gt; <span class="hljs-string">'required|min:5');

        <span class="hljs-variable">$validator <span class="hljs-subst">= Validator<span class="hljs-tag">::make(Input<span class="hljs-tag">::all(), <span class="hljs-variable">$rules);

        <span class="hljs-keyword">if (<span class="hljs-variable">$validator<span class="hljs-subst">-&gt;fails())
        {
            <span class="hljs-keyword">return Redirect<span class="hljs-tag">::route(<span class="hljs-string">'articles.create')
                <span class="hljs-subst">-&gt;withErrors(<span class="hljs-variable">$validator)
                <span class="hljs-subst">-&gt;withInput();
        }

        <span class="hljs-variable">$article <span class="hljs-subst">= Article<span class="hljs-tag">::find(<span class="hljs-variable">$id);

        <span class="hljs-variable">$article<span class="hljs-subst">-&gt;title <span class="hljs-subst">= Input<span class="hljs-tag">::get(<span class="hljs-string">'title');
        <span class="hljs-variable">$article<span class="hljs-subst">-&gt;text <span class="hljs-subst">= Input<span class="hljs-tag">::get(<span class="hljs-string">'text');
        <span class="hljs-variable">$article<span class="hljs-subst">-&gt;save();

        <span class="hljs-keyword">return Redirect<span class="hljs-tag">::route(<span class="hljs-string">'articles.show', <span class="hljs-built_in">array(<span class="hljs-variable">$article<span class="hljs-subst">-&gt;id));
    }
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>最后，我们想在文章列表页面，在每篇文章后面都加上一个链接，指向 edit 动作。打开 app/views/articles/index.blade.php 文件，在“Show”链接后面添加“Edit”链接：</p>
<pre><code class=" hljs handlebars"><span class="xml">&lt;table&gt;  
  &lt;tr&gt;
    &lt;th&gt;Title&lt;/th&gt;
    &lt;th&gt;Text&lt;/th&gt;
    &lt;th colspan=<span class="hljs-string">"2"&gt;&lt;/th&gt;
  &lt;/tr&gt;

  @foreach <span class="hljs-params">(<span class="hljs-variable">$articles as <span class="hljs-variable">$article)
    &lt;tr&gt;
      &lt;td&gt;<span class="hljs-expression">{{ $<span class="hljs-variable">article-&gt;<span class="hljs-variable">title }}<span class="xml">&lt;/td&gt;
      &lt;td&gt;<span class="hljs-expression">{{ $<span class="hljs-variable">article-&gt;<span class="hljs-variable">text }}<span class="xml">&lt;/td&gt;
      &lt;td&gt;<span class="hljs-expression">{{ <span class="hljs-variable">link_<span class="hljs-variable">to_<span class="hljs-variable">route('<span class="hljs-variable">articles.show', '<span class="hljs-variable">Show', $<span class="hljs-variable">article-&gt;<span class="hljs-variable">id) }}<span class="xml">&lt;/td&gt;
      &lt;td&gt;<span class="hljs-expression">{{ <span class="hljs-variable">link_<span class="hljs-variable">to_<span class="hljs-variable">route('<span class="hljs-variable">articles.edit', '<span class="hljs-variable">Edit', $<span class="hljs-variable">article-&gt;<span class="hljs-variable">id) }}<span class="xml">&lt;/td&gt;
    &lt;/tr&gt;
  @endforeach
&lt;/table&gt;  
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>我们还要在 app/views/articles/show.blade.php 模板的底部加上“Edit”链接：</p>
<pre><code class=" hljs handlebars"><span class="xml"><span class="hljs-params"><span class="hljs-expression">{{ <span class="hljs-variable">link_<span class="hljs-variable">to_<span class="hljs-variable">route('<span class="hljs-variable">articles.index', '<span class="hljs-variable">Back') }}<span class="xml"> |
<span class="hljs-expression">{{ <span class="hljs-variable">link_<span class="hljs-variable">to_<span class="hljs-variable">route('<span class="hljs-variable">articles.edit', '<span class="hljs-variable">Edit', $<span class="hljs-variable">article-&gt;<span class="hljs-variable">id) }}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<h3 id="512">5.12 使用局部视图去掉视图中的重复代码</h3>
<p>编辑文章页面和新建文章页面很相似，显示错误提示的代码是相同的。下面使用局部视图去掉两个视图中的重复代码。</p>
<p>新建 app/views/notifications.blade.php 文件，写入以下代码：</p>
<pre><code class=" hljs handlebars"><span class="xml">@if <span class="hljs-params">(<span class="hljs-variable">$errors-&gt;any<span class="hljs-params">())
&lt;div id=<span class="hljs-string">"error_explanation"&gt;  
    &lt;h2&gt;<span class="hljs-expression">{{ <span class="hljs-variable">count($<span class="hljs-variable">errors-&gt;<span class="hljs-variable">all()) }}<span class="xml"> prohibited
      this article from being saved:&lt;/h2&gt;
    &lt;ul&gt;
    @foreach <span class="hljs-params">(<span class="hljs-variable">$errors-&gt;all<span class="hljs-params">() as <span class="hljs-variable">$message)
      &lt;li&gt;<span class="hljs-expression">{{ $<span class="hljs-variable">message }}<span class="xml">&lt;/li&gt;
    @endforeach
    &lt;/ul&gt;
  &lt;/div&gt;
@endif
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>下面来修改 app/views/articles/creat.blade.php 和 edit.blade.php 视图，使用新建的局部视图，把其中的上面代码全删掉，替换成：</p>
<pre><code class=" hljs ruby"><span class="hljs-variable">@include(<span class="hljs-string">'notifications')
</span></span></code></pre>
<h3 id="513">5.13 删除文章</h3>
<p>现在介绍 CRUD 中的 D，从数据库中删除文章。按照 REST 架构的约定，删除文章的路由是：</p>
<blockquote>
<p>DELETE articles/{articles} | articles.destroy | ArticlesController@destroy</p>
</blockquote>
<p>删除资源时使用 DELETE 请求。如果还使用 GET 请求，可以构建如下所示的恶意地址：</p>
<pre><code class=" hljs livecodeserver">&lt;<span class="hljs-operator">a href=<span class="hljs-string">'http://example.com/articles/1/destroy'&gt;look <span class="hljs-keyword">at this cat!&lt;/<span class="hljs-operator">a&gt;  
</span></span></span></span></code></pre>
<p>删除资源使用 DELETE 方法，路由会把请求发往 app/controllers/ArticlesController.php 中的 destroy 动作。修改 destroy 动作：</p>
<pre><code class=" hljs php">    <span class="hljs-keyword">public <span class="hljs-function"><span class="hljs-keyword">function <span class="hljs-title">destroy<span class="hljs-params">(<span class="hljs-variable">$id)
    {
        Article::destroy(<span class="hljs-variable">$id);

        <span class="hljs-keyword">return Redirect::route(<span class="hljs-string">'articles.index');
    }
</span></span></span></span></span></span></span></span></span></code></pre>
<p>想把记录从数据库删除，可以在模型对象上调用 destroy 方法。注意，我们无需为这个动作编写视图，因为它会转向 index 动作。</p>
<p>最后，在 index 动作的模板（app/views/articles/index.blade.php）中加上“Destroy”链接：</p>
<pre><code class=" hljs handlebars"><span class="xml">&lt;table&gt;  
  &lt;tr&gt;
    &lt;th&gt;Title&lt;/th&gt;
    &lt;th&gt;Text&lt;/th&gt;
    &lt;th colspan=<span class="hljs-string">"2"&gt;&lt;/th&gt;
  &lt;/tr&gt;

  @foreach <span class="hljs-params">(<span class="hljs-variable">$articles as <span class="hljs-variable">$article)
    &lt;tr&gt;
      &lt;td&gt;<span class="hljs-expression">{{ $<span class="hljs-variable">article-&gt;<span class="hljs-variable">title }}<span class="xml">&lt;/td&gt;
      &lt;td&gt;<span class="hljs-expression">{{ $<span class="hljs-variable">article-&gt;<span class="hljs-variable">text }}<span class="xml">&lt;/td&gt;
      &lt;td&gt;<span class="hljs-expression">{{ <span class="hljs-variable">link_<span class="hljs-variable">to_<span class="hljs-variable">route('<span class="hljs-variable">articles.show', '<span class="hljs-variable">Show', $<span class="hljs-variable">article-&gt;<span class="hljs-variable">id) }}<span class="xml">&lt;/td&gt;
      &lt;td&gt;<span class="hljs-expression">{{ <span class="hljs-variable">link_<span class="hljs-variable">to_<span class="hljs-variable">route('<span class="hljs-variable">articles.edit', '<span class="hljs-variable">Edit', $<span class="hljs-variable">article-&gt;<span class="hljs-variable">id) }}<span class="xml">&lt;/td&gt;
      &lt;td&gt;
        <span class="hljs-expression">{{ <span class="hljs-variable">Form::<span class="hljs-variable">open(<span class="hljs-variable">array('<span class="hljs-variable">method' =&gt; '<span class="hljs-variable">DELETE', '<span class="hljs-variable">route' =&gt; <span class="hljs-variable">array('<span class="hljs-variable">articles.destroy', $<span class="hljs-variable">article-&gt;<span class="hljs-variable">id))) }}<span class="xml">
          <span class="hljs-expression">{{ <span class="hljs-variable">Form::<span class="hljs-variable">submit('<span class="hljs-variable">Delete') }}<span class="xml">
        <span class="hljs-expression">{{ <span class="hljs-variable">Form::<span class="hljs-variable">close() }}<span class="xml">
      &lt;/td&gt;
    &lt;/tr&gt;
  @endforeach
&lt;/table&gt;  
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p>恭喜，现在你可以新建、显示、列出、更新、删除文章了。</p>
<h2 id="">接下来做什么</h2>
<p>至此，我们开发了第一个 Laravel 程序，请尽情的修改、试验。在开发过程中难免会需要帮助，如果使用 Laravel 时需要协助，可以使用这些资源：</p>
<ul>
<li><a href="http://laravel.com/">http://laravel.com/</a></li>
<li><a href="http://golaravel.com/">http://golaravel.com/</a></li>
<li><a href="http://laravel-china.org/">http://laravel-china.org/</a></li>
</ul>
<h2 id="">常见问题</h2>
<p>使用 Laravel 时，最好使用 UTF-8 编码存储所有外部数据。</p>
<p>如果编码出错，常见的征兆是浏览器中显示很多黑色方块和问号。还有一种常见的符号是“Ã¼”，包含在“ü”中。</p>
<p>非 UTF-8 编码的数据经常来源于：</p>
<ul>
<li>你的文本编辑器：大多数文本编辑器（例如 TextMate）默认使用 UTF-8 编码保存文件。如果你的编辑器没使用 UTF-8 编码，有可能是你在模板中输入了特殊字符（例如 é），在浏览器中显示为方块和问号。这种问题也会出现在国际化文件中。默认不使用 UTF-8 保存文件的编辑器（例如 Dreamweaver 的某些版本）都会提供一种方法，把默认编码设为 UTF-8。记得要修改。</li>
<li>你的数据库：默认情况下，Laravel 会把从数据库中取出的数据转换成 UTF-8 格式。如果数据库内部不使用 UTF-8 编码，就无法保存用户输入的所有字符。例如，数据库内部使用 Latin-1 编码，用户输入俄语、希伯来语或日语字符时，存进数据库时就会永远丢失。如果可能，在数据库中尽量使用 UTF-8 编码。</li>
</ul>
<h2 id="">反馈</h2>
<p>欢迎帮忙改善文档质量。</p>
<p>直接 issues 吧！</p>
<h2 id="license">License</h2></div><div id="MySignature"></div>
        <div class="clear"></div>
        <div id="blog_post_info_block">
        <div id="blog_post_info"><div id="green_channel">
绿色通道：
<a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(4145974,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
<a id="green_channel_follow" onclick="c_follow();" href="javascript:void(0);">关注我</a>
<a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a><a id="green_channel_contact" href="http://msg.cnblogs.com/send/wish123" target="_blank">与我联系</a>
<a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="./Laravel 入门 - wish123 - 博客园_files/icon_weibo_24.png" alt=""></a>
</div>
<div id="author_profile">
<div id="author_profile_info" class="author_profile_info">
<a href="http://home.cnblogs.com/u/wish123/" target="_blank"><img src="./Laravel 入门 - wish123 - 博客园_files/u321159.jpg" class="author_avatar" alt=""></a>
<div id="author_profile_detail" class="author_profile_info">
<a href="http://home.cnblogs.com/u/wish123/">wish123</a><br>
<a href="http://home.cnblogs.com/u/wish123/followees">关注 - 2</a><br>
<a href="http://home.cnblogs.com/u/wish123/followers">粉丝 - 7</a>
</div>
</div>
<div class="clear"></div>
<div id="author_profile_honor"></div>
<div id="author_profile_follow">
    <a href="javascript:void(0);" onclick="c_follow();return false;">+加关注</a>
</div>
</div>
<div id="div_digg">										
    <div class="diggit" onclick="votePost(4145974,&#39;Digg&#39;)">
        <span class="diggnum" id="digg_count">2</span>
    </div>
	<div class="buryit" onclick="votePost(4145974,&#39;Bury&#39;)"> 
		<span class="burynum" id="bury_count">0</span>
	</div>
	<div class="clear"></div>	
	<div class="diggword" id="digg_tips">
    (请您对文章做出评价)
    </div>	
</div>
</div>
        <div class="clear"></div>
        <div id="post_next_prev"><a href="http://www.cnblogs.com/wish123/p/4133477.html" class="p_n_p_prefix">« </a> 上一篇：<a href="http://www.cnblogs.com/wish123/p/4133477.html" title="发布于2014-11-30 18:35">phpstorm使用和配置技巧</a><br><a href="http://www.cnblogs.com/wish123/p/4150026.html" class="p_n_p_prefix">» </a> 下一篇：<a href="http://www.cnblogs.com/wish123/p/4150026.html" title="发布于2014-12-07 22:25">vim常见操作命令</a><br></div>
    </div>
</div>
    <ul class="postmetadata">
        <li class="icon_cat" id="BlogPostCategory">分类: <a href="http://www.cnblogs.com/wish123/category/314917.html">php</a></li>
        <li class="icon_bullet" id="EntryTag"></li>
    </ul>
</div>
<script type="text/javascript">var allowComments=true,isLogined=false,cb_blogId=94317,cb_entryId=4145974,cb_blogApp=currentBlogApp,cb_blogUserGuid='0205d120-41be-e011-8673-842b2b196315',cb_entryCreatedDate='2014/12/5 9:56:00';loadViewCount(cb_entryId);</script>
<script type="text/javascript">
    var m = window.__blog.postRendered;
    if (m) { m(__$("post")); }
</script>
<script type="text/javascript">
    var m = window.__blog.postRenderPosts;
    if (m) { m(); }
</script>
</div><a name="!comments"></a><div id="blog-comments-placeholder"><div id="comments_pager_top"></div>
<a class="addcomment" href="http://www.cnblogs.com/wish123/p/4145974.html#comment_tip">Add your comment</a>
<h3 id="comments"></h3>
<div class="feedbackNoItems"></div>


<ol class="commentlist" id="commentList">	

		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/wish123/p/4145974.html#3170331" class="layer">#1楼</a><a name="3170331" id="comment_anchor_3170331"></a></cite> <a id="a_comment_author_3170331" href="http://www.cnblogs.com/ytmm/" target="_blank">博客园 涛</a> <a href="http://msg.cnblogs.com/send/%E5%8D%9A%E5%AE%A2%E5%9B%AD%20%E6%B6%9B" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2015-04-25 16:54</span></small>
			</h5>
			<div id="comment_body_3170331" class="blog_comment_body">写的很详细！赞一个！</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3170331,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3170331,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/wish123/p/4145974.html#3178246" class="layer">#2楼</a><a name="3178246" id="comment_anchor_3178246"></a></cite> <a id="a_comment_author_3178246" href="http://www.cnblogs.com/tangwaikei/" target="_blank">tangwaikei</a> <a href="http://msg.cnblogs.com/send/tangwaikei" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2015-05-07 17:39</span></small>
			</h5>
			<div id="comment_body_3178246" class="blog_comment_body">真他妈的写得好！！！每点都写得很详尽呢</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3178246,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3178246,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/wish123/p/4145974.html#3183388" class="layer">#3楼</a><a name="3183388" id="comment_anchor_3183388"></a><span id="comment-maxId" style="display:none;">3183388</span><span id="comment-maxDate" style="display:none;">2015/5/14 1:08:24</span></cite> <a id="a_comment_author_3183388" href="http://www.cnblogs.com/gamir/" target="_blank">牧羊童Gamir</a> <a href="http://msg.cnblogs.com/send/%E7%89%A7%E7%BE%8A%E7%AB%A5Gamir" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2015-05-14 01:08</span></small>
			</h5>
			<div id="comment_body_3183388" class="blog_comment_body">赞</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3183388,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3183388,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3183388_avatar" style="display:none;">http://pic.cnblogs.com/face/454052/20130917223714.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
</ol>

<div id="comments_pager_bottom"></div></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" id="lnk_RefreshComments" onclick="return RefreshCommentList();">刷新评论</a><a href="http://www.cnblogs.com/wish123/p/4145974.html#" onclick="return RefreshPage();">刷新页面</a><a href="http://www.cnblogs.com/wish123/p/4145974.html#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login(&#39;commentform&#39;);">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="site_nav_under"><a href="http://www.ucancode.com/index.htm" target="_blank">【推荐】50万行VC++源码: 大型组态工控、电力仿真CAD与GIS源码库</a><br><a href="http://www.rongcloud.cn/" target="_blank">【推荐】融云即时通讯云－专注为 App 开发者提供IM云服务</a><br></div>
<div id="opt_under_post"></div>
<script type="text/javascript">
    var enableGoogleAd = canShowAdsense(); 
    fixPostBodyFormat();
</script>
<div id="google_ad_c1" class="c_ad_block"><object width="300" height="250" data="http://img.cnblogs.com/ad/IBM_Bluemix_C1.swf" type="application/x-shockwave-flash"><param name="src" value="http://img.cnblogs.com/ad/IBM_Bluemix_C1.swf"></object></div>
<div id="under_post_news"><div class="itnews c_ad_block"><b>最新IT新闻</b>:<br> ·  <a href="http://news.cnblogs.com/n/528397/" target="_blank">Chrome Custom Tabs：应用转Web从未如此轻快</a><br> ·  <a href="http://news.cnblogs.com/n/528396/" target="_blank">微软及其前CEO鲍尔默为STEM学生捐赠2100万美金奖学金</a><br> ·  <a href="http://news.cnblogs.com/n/528395/" target="_blank">Google课堂将支持Chrome扩展</a><br> ·  <a href="http://news.cnblogs.com/n/528394/" target="_blank">松下欲推新一代唱片机：粉丝们强烈要求</a><br> ·  <a href="http://news.cnblogs.com/n/528393/" target="_blank">传马云蔡崇信拟抵押股票贷款20亿美元</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="google_ad_c2" class="c_ad_block"><a href="http://wiki.jikexueyuan.com/project/bootstrap4/?hmsr=cnb_banner_bootstrap_09.02" target="_blank"><img width="468" height="60" src="./Laravel 入门 - wish123 - 博客园_files/24442-20150902140529310-1251936098.jpg" alt=""></a></div>
<div id="under_post_kb"><div class="itnews c_ad_block" id="kb_block"><b>最新知识库文章</b>:<br><div id="kb_recent"> ·  <a href="http://kb.cnblogs.com/page/519485/" target="_blank">软件设计杂谈</a><br> ·  <a href="http://kb.cnblogs.com/page/527253/" target="_blank">打破定式，突破屏障，走出自己的创意舒适区</a><br> ·  <a href="http://kb.cnblogs.com/page/527139/" target="_blank">关于软件开发，你老板不知道的7件事</a><br> ·  <a href="http://kb.cnblogs.com/page/526769/" target="_blank">关于烂代码的那些事（中）</a><br> ·  <a href="http://kb.cnblogs.com/page/526768/" target="_blank">关于烂代码的那些事（上）</a><br></div>» <a href="http://kb.cnblogs.com/" target="_blank">更多知识库文章...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
$(function () {
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    setTimeout(function () { incrementViewCount(cb_entryId); }, 200);
});
</script>
</div>

        </div>

        <script type="text/javascript">
            var m = window.__blog.contentRendered;
            if (m) { m(__$("content")); }
        </script>

        <div id="sidebar">
            
<div id="about">
<div>
<h2 id="about_title">About</h2>
<div id="about_body">
<div id="blog-news">关注互联网，关注新技术。
<a target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=MkVbQVoHAwMHclRdSl9TW14cUV1f" style="text-decoration:none;"><img align="absmiddle" src="./Laravel 入门 - wish123 - 博客园_files/ico_mailme_01.png"></a>&nbsp;&nbsp;
<a href="http://api.pop800.com/web800/c.do?l=cn&type=0&n=130666&w=0" target="_blank"><img src="./Laravel 入门 - wish123 - 博客园_files/pop.do" align="absmiddle" border="0" title="点击这里给我发消息" style="cursor:pointer"></a><div id="profile_block">昵称：<a href="http://home.cnblogs.com/u/wish123/">wish123</a><br>园龄：<a href="http://home.cnblogs.com/u/wish123/" title="入园时间：2011-08-04">4年1个月</a><br>粉丝：<a href="http://home.cnblogs.com/u/wish123/followers/">7</a><br>关注：<a href="http://home.cnblogs.com/u/wish123/followees/">2</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="cnblogs.UserManager.FollowBlogger(&#39;0205d120-41be-e011-8673-842b2b196315&#39;)">+加关注</a></div></div></div>
<script type="text/javascript">loadBlogNews();</script>
</div>
</div>
</div>

            <script type="text/javascript">
                var m = window.__blog.aboutRendered;
                if (m) { m(__$("about")); }
            </script>
            
<div id="mySearchWrapper">
    <div id="mySearch">
        <input type="image" src="./Laravel 入门 - wish123 - 博客园_files/btnsearch.gif" id="btnZzk" class="submit" onclick="zzk_go();return false;">
        <label class="lb_search"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="keyword"></label>
    </div>
</div>

            <script type="text/javascript">
                var m = window.__blog.searchFormRendered;
                if (m) { m(__$("searchform")); }
            </script>
            <div id="sideMain">
            <div id="side-recent-comments">
        <h2>最新评论</h2>
        <ul class="voice">
                <li>
                    <a href="http://www.cnblogs.com/wish123/p/4145974.html#3183388">Re:Laravel 入门</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/wish123/p/4145974.html#3183388">
                        赞
                        -- 牧羊童Gamir
                    </a>
                </li>
                <li>
                    <a href="http://www.cnblogs.com/wish123/p/4145974.html#3178246">Re:Laravel 入门</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/wish123/p/4145974.html#3178246">
                        真他妈的写得好！！！每点都写得很详尽呢
                        -- tangwaikei
                    </a>
                </li>
                <li>
                    <a href="http://www.cnblogs.com/wish123/p/4145974.html#3170331">Re:Laravel 入门</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/wish123/p/4145974.html#3170331">
                        写的很详细！赞一个！
                        -- 博客园 涛
                    </a>
                </li>
        </ul>
    </div></div>
            <div id="sideRight">
            <div id="side-archives">
        <h2>随笔档案</h2>
        <ul class="date">
                <li><a href="http://www.cnblogs.com/wish123/archive/2015/08.html">2015年8月(4)</a></li>
                <li><a href="http://www.cnblogs.com/wish123/archive/2015/07.html">2015年7月(2)</a></li>
                <li><a href="http://www.cnblogs.com/wish123/archive/2014/12.html">2014年12月(3)</a></li>
                <li><a href="http://www.cnblogs.com/wish123/archive/2014/11.html">2014年11月(2)</a></li>
                <li><a href="http://www.cnblogs.com/wish123/archive/2014/09.html">2014年9月(5)</a></li>
                <li><a href="http://www.cnblogs.com/wish123/archive/2014/08.html">2014年8月(6)</a></li>
                <li><a href="http://www.cnblogs.com/wish123/archive/2014/06.html">2014年6月(1)</a></li>
                <li><a href="http://www.cnblogs.com/wish123/archive/2013/04.html">2013年4月(4)</a></li>
                <li><a href="http://www.cnblogs.com/wish123/archive/2011/10.html">2011年10月(1)</a></li>
                <li><a href="http://www.cnblogs.com/wish123/archive/2011/09.html">2011年9月(1)</a></li>
                <li><a href="http://www.cnblogs.com/wish123/archive/2011/08.html">2011年8月(3)</a></li>
        </ul>
    </div>    
    
    


        
<div id="side-link-607018">
            <h2>名人博客</h2>
            <ul class="chain">
                        <li>
                            <a href="http://www.laruence.com/" target="_self">风雪之隅-Laruence的博客</a>
                        </li>
                        <li>
                            <a href="http://jeffreyzhao.cnblogs.com/" target="_self">老赵点滴 - 追求编程之美</a>
                        </li>
                        <li>
                            <a href="http://zyan.cc/" target="_self">张晏的博客</a>
                        </li>
            </ul>
        </div></div>
            <div id="sideLeft">
            <div id="side-categories">
        <h2>随笔分类</h2>
        <ul class="folder">
                <li>
                    
                    <a href="http://www.cnblogs.com/wish123/category/314921.html">div/css(1)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/wish123/category/608851.html">english(1)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/wish123/category/607004.html">git(4)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/wish123/category/314919.html">java(1)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/wish123/category/727559.html">laravel(1)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/wish123/category/469766.html">linux(5)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/wish123/category/591277.html">lua(1)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/wish123/category/314917.html">php(11)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/wish123/category/635921.html">shell(1)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/wish123/category/607617.html">vim(2)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/wish123/category/636118.html">工具软件(3)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/wish123/category/314922.html">文章(2)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/wish123/category/469763.html">系统架构(2)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/wish123/category/469762.html">项目管理(1)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/wish123/category/315263.html">移动开发(1)</a>
                </li>
        </ul>
    </div><div id="side-top-posts-custom">
    <h2>推荐排行榜</h2>
    <div id="TopDiggPostsBlock"><ul><li><a href="http://www.cnblogs.com/wish123/archive/2011/08/09/2132150.html">1. php中计算中文字符串长度、截取中文字符串(2)</a></li><li><a href="http://www.cnblogs.com/wish123/archive/2011/08/10/2133302.html">2. 移动开发，如何选择手机软件开发​平台？(2)</a></li><li><a href="http://www.cnblogs.com/wish123/archive/2013/04/12/3015879.html">3. 高效学习不是梦，方法你有吗？(2)</a></li><li><a href="./Laravel 入门 - wish123 - 博客园_files/Laravel 入门 - wish123 - 博客园.html">4. Laravel 入门(2)</a></li><li><a href="http://www.cnblogs.com/wish123/p/3937851.html">5. git之https或http方式设置记住用户名和密码的方法(2)</a></li></ul></div>
</div><div id="side-top-posts">
    <h2>阅读排行榜</h2>
    <div id="TopViewPostsBlock"><ul><li><a href="http://www.cnblogs.com/wish123/archive/2011/08/09/2132150.html">1. php中计算中文字符串长度、截取中文字符串(16715)</a></li><li><a href="http://www.cnblogs.com/wish123/p/3937851.html">2. git之https或http方式设置记住用户名和密码的方法(7006)</a></li><li><a href="http://www.cnblogs.com/wish123/p/3963224.html">3. git diff命令详解(6201)</a></li><li><a href="./Laravel 入门 - wish123 - 博客园_files/Laravel 入门 - wish123 - 博客园.html">4. Laravel 入门(4033)</a></li><li><a href="http://www.cnblogs.com/wish123/archive/2013/04/12/3017031.html">5. TCP、UDP及Socket(Port)的关系，深入浅出！(1934)</a></li></ul></div>
</div></div>
            
                <div id="sideContainer"></div>
                <script type="text/javascript">
                    $.ajax({
                        url: '/' + currentBlogApp + '/mvc/blog/Minyx2_Lite_SideColumn.aspx',
                        data: '{}',
                        type: 'post',
                        dataType: 'text',
                        contentType: 'application/json; charset=utf-8',
                        success: function (data) {
                            if (data) {
                                $("#sideContainer").html(data);
                                loadBlogDefaultCalendar();
                                loadBlogSideBlocks();
                                var m = window.__blog.sideContainerRendered;
                                if (m) { m(__$("sideContainer")); }
                                window.__blog.sidebar.__layout();
                            }
                        }
                    });

                </script>
            
        </div>

        <script type="text/javascript">
            var m = window.__blog.sidebarRendered;
            if (m) { m(__$("sidebar")); }
        </script>

        <div id="footer">
            
<p id="logoFoot">
    <a href="http://www.spiga.com.mx/" title="Agencia Interactiva Spiga">www.spiga.com.mx</a>
</p>
<div class="footText">
<p>
Copyright ©2015 wish123
</p>
<p>
<a href="http://www.cnblogs.com/">博客园</a>
</p>
</div>
        </div>
    </div>

    <script type="text/javascript">
        var m = window.__blog.wrapperRendered;
        if (m) { m(__$("wrapper")); }
    </script>

</div>
<script type="text/javascript">
    var m = window.__blog.containerRendered;
    if (m) { m(__$("container")); }
</script>
<!--PageEndHtml Block Begin-->
<div class="wish123_footer">
©<span id="wish123_year">2014</span>&nbsp;<a href="http://wish123.cnblogs.com/">wish123.cnblogs.com</a>&nbsp;Powered by <a href="http://www.cnblogs.com/">cnblogs</a>
</div>
<script src="./Laravel 入门 - wish123 - 博客园_files/jquery.zclip.min.js"></script>
<script>
    try{
        var wish_copy_year = $('.footText').children('p').html().match(/Copyright\s?(\d+)\s/i)[1];
        if(wish_copy_year){
            $("#wish123_year").html(wish_copy_year);
        } else {
            var wish_aobj = $('#profile_block a[title^=入园时间]');$("#wish123_year").html(parseInt(wish_aobj.html())+parseInt(wish_aobj.attr("title").replace("入园时间：","")));
        }
    }catch(e){}
    $("#wish123_copy").zclip({
        path: "http://www.steamdev.com/zclip/js/ZeroClipboard.swf",
        copy: function(){
            return "http://wish123.cnblogs.com/";
        },
        afterCopy: function(){
            $(this).html("已复制");
            window.setTimeout(function(){
                $("#wish123_copy").html("复制");
            }, 2000);
        }
    });
</script>
<script src="./Laravel 入门 - wish123 - 博客园_files/jquery.scrollUp.js"></script>
<script type="text/javascript">
    $(function(){
        $.scrollUp();
    });
</script>
<!--51.la统计代码-begin-->
<script language="javascript" type="text/javascript" src="./Laravel 入门 - wish123 - 博客园_files/17279749.js"></script>
<noscript>&lt;a href="http://www.51.la/?17279749" target="_blank"&gt;&lt;img alt="&amp;#x6211;&amp;#x8981;&amp;#x5566;&amp;#x514D;&amp;#x8D39;&amp;#x7EDF;&amp;#x8BA1;" src="http://img.users.51.la/17279749.asp" style="border:none" /&gt;&lt;/a&gt;</noscript>
<!--51.la统计代码-end-->
<!--PageEndHtml Block End-->


<embed id="embed_npfido" type="application/npfido" height="0"></body></html>